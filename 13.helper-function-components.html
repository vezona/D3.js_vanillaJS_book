<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Helper Function</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="./extension/prism.css" />
    <link rel="stylesheet" href="./css/utils.css" />
  </head>
  <body>
    <nav class="bg-orange navbar">
      <div class="container-fluid">
        <a
          class="text-decoration-none fw-bold navbar-brand"
          href="./index.html"
        >
          <span class="nav-title"> D3.js 圖表繪製教學</span>
        </a>
      </div>
    </nav>

    <div class="container">
      <h3 class="mt-6 fw-bold">Components</h3>
      <p>
        這一大類的 API
        們會使用回傳的方法去建立一整組圖形物件，供給特定的圖表使用
      </p>

      <div>
        <div>
          <h5 class="my-4"><mark>axis 軸線</mark></h5>
          <svg style="border: 1px solid rgb(96, 96, 96)" class="axis"></svg>

          <p class="mt-2 mb-1 fs-6">程式碼</p>
          <pre>
            <code class="language-js line-numbers remove-initial-line-feed">
              //JS
              const data = [
              { x: 10, y: 100 },
              { x: 20, y: 100 },
              { x: 30, y: 100 },
              { x: 90, y: 20 },
              { x: 220, y: 10 },
            ];
      
            // 抓出 x 軸要使用的資料
            const xData = data.map((i) => i.x);
      
            // 設定X軸的比例尺與繪製範圍
            const xScale = d3
              .scaleLinear()
              .domain([0, d3.max(xData)])
              .range([10, 290]);
      
            //使用xScale的設定，繪製刻度(ticks)朝下的軸線
            const xAxis = d3.axisBottom(xScale);
      
            // 繪製軸線
            d3.select(".axis")
              .append("g")
              .call(xAxis)
                // 調整X軸位置
              .attr("transform", "translate(0,130)"); 
            </code>
          </pre>
        </div>
      </div>
    </div>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
      crossorigin="anonymous"
    ></script>
    <script src="./extension/prism.js"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script>
      const data = [
        { x: 10, y: 100 },
        { x: 20, y: 100 },
        { x: 30, y: 100 },
        { x: 90, y: 20 },
        { x: 220, y: 10 },
      ];

      // 抓出 x 軸要使用的資料
      const xData = data.map((i) => i.x);

      // 設定X軸的比例尺與繪製範圍
      const xScale = d3
        .scaleLinear()
        .domain([0, d3.max(xData)])
        .range([10, 290]);

      //使用xScale的設定，繪製刻度(ticks)朝下的軸線
      const xAxis = d3.axisBottom(xScale);

      // 繪製軸線
      d3.select(".axis")
        .append("g")
        .call(xAxis) // https://github.com/d3/d3-selection/blob/v3.0.0/README.md#selection_call
        .attr("transform", "translate(0,130)"); // 調整X軸位置
    </script>
  </body>
</html>
